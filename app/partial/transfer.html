<div id="transfer" 
  class="col-md-12 transaction" 
  ng-init="loadAddresses(); shipName = $routeParams.p != 'offline' ? $routeParams.p : ''">
  <span class="address row text-700">
    {{ wallet.getAddressString() }}
  </span>
  <section class="general-information mb-6">
    <h1 id="action-title row">Transfer</h1>
    <div class="help-text row">
      <p class="col-md-8">Transferring this ship to another address gives that address full rights to this ship. If you would like to reset the private key, please check the appropriate checkbox and the key will be set to <code>0</code>. This transaction is irreversible.
      </p>
      <p class="col-md-8 red" ng-show="offline">You are in offline mode. Please copy and paste the transaction below into an appropriate client.
      </p>
    </div>
  </section>
  <section class="transaction-params">
    <div class="label-group">
      <h4 class="sub-title">Ship to transfer:</h4>
      <h2 class="ship-name blue monospace" ng-show="shipName != ''">
        {{ shipName[0] == '~' ? shipName : '~' + shipName }}
      </h2>
    </div>
    <!-- show this offline -->
    <div ng-init="shipError = false" 
      ng-class="shipError ? 'error input-group' : 'input-group'" 
      ng-show="offline">
      <input type="text" 
        class="col-md-8 monospace" 
        ng-change="shipError = valShip(ob.toAddress(shipName))" 
        ng-model="shipName" 
        value="Star Name" 
        placeholder="ship">
      <div class="error-label">{{ shipName }} is not a ship</div>
    </div>
    <!-- /show this offline -->
    <div ng-init="addressError = false" ng-class="addressError ? 'error input-group' : 'input-group'">
      <input type="text" class="monospace col-md-12" ng-change="addressError = valAddress(address)" ng-model="address" value="Address" placeholder="address">
      <div class="error-label">Not a valid address</div>
    </div>
    <div class="input-group row">
      <div class="checkbox-container">
        <div ng-class="rekey ? 'checkbox checked' : 'checkbox'" ng-click="rekey = rekey == true ? false : true"></div>
      </div>
      <label class="action-confirmation ml-4">Rekey ship on transfer</label>
    </div>
    <!-- show these offline -->
    <div class="offline-params" ng-show="offline">
      <div ng-init="gasLimitError = false" 
        ng-class="gasLimitError ? 'error input-group' : 'input-group'">
        <input type="text" 
          class="col-md-4" 
          ng-change="gasLimitError = tx.gasLimit > 3000000"
          ng-model="tx.gasLimit" 
          value="Gas Limit" 
          placeholder="gas-limit">
        <div class="error-label">{{ tx.gasLimit }} is too high</div>
      </div>
      <div ng-init="nonceError = false" 
        ng-class="nonceError ? 'error input-group' : 'input-group'">
        <input type="text" 
          class="col-md-4" 
          ng-model="nonceDec" 
          value="nonce" 
          placeholder="nonce">
      </div>
      <div ng-init="gasPriceError = false" 
        ng-class="gasPriceError ? 'error input-group' : 'input-group'">
        <input type="text" 
          class="col-md-4" 
          ng-model="gasPriceDec" 
          value="gasPrice" 
          placeholder="gas-price">
      </div>
    </div>
    <!-- /show these offline -->
    <div class="input-group row">
      <div class="checkbox-container">
        <div ng-class="checked ? 'checkbox checked' : 'checkbox'" 
          ng-click="checked = checked == true ? false : true">
        </div>
      </div>
      <label class="action-confirmation ml-4">Yes I am sure</label>
    </div>
    <button class="btn btn-tetiary" ng-click="path('state')" >&#8592 Back</button>
    <button ng-class="!loading && checked && !addressError && address ? 'btn btn-secondary' : 'btn disabled'" 
      ng-click="checked && !addressError && address ? doTransferShip(ob.toAddress(shipName), address, rekey) : ''" >
      Create
    </button>
  </section>
  <section class="transaction-data" 
    ng-show="rawTx" 
    ng-init="sent = false">
    <h4>Raw Tx</h4>
    <div class="raw-tx row col-md-8 text-code tx input-group">
      {{ rawTx }}
    </div>
    <h4>Signed Tx</h4>
    <div class="signed-tx row col-md-8 text-code tx input-group">
      {{ signedTx }}
    </div>
    <button class="btn btn-tetiary" 
      ng-click="path('state')">
      &#8592 Back
    </button>
    <button ng-show="!offline" ng-init="sent = false"
      ng-class="!sent ? 'btn btn-primary' : 'btn disabled'"
      ng-click="sendTx(); sent = true">
      Send
    </button>
  </section>
</div>
